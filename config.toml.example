# LWM Configuration File
# Autoload path: $XDG_CONFIG_HOME/lwm/config.toml (when XDG_CONFIG_HOME is set)

[appearance]
padding = 10
border_width = 2
border_color = 0xFF0000       # Red (hex)

[focus]
# If true, warp cursor to the target monitor center on explicit monitor changes.
warp_cursor_on_monitor_change = false

[programs]
terminal = "/usr/local/bin/st"
browser = "/usr/bin/firefox"
launcher = "rofi -show drun"

[workspaces]
# Number of workspaces per monitor (must be >= 1).
count = 10
# Optional names for workspaces (shown in EWMH and the internal bar).
# If omitted, defaults to "1".."count".
names = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]

# ─────────────────────────────────────────────────────────────────────────────
# Autostart
# ─────────────────────────────────────────────────────────────────────────────
#
# Commands to run when LWM starts. Executed asynchronously (non-blocking).
# Use "terminal", "browser", or "launcher" to reference [programs] values.
#
# [autostart]
# commands = [
#     "picom",              # Compositor
#     "nitrogen --restore", # Wallpaper
#     "dunst",              # Notifications
#     "terminal",           # Resolves to programs.terminal
# ]

# Keybindings
# mod: "super", "super+shift", "super+ctrl", etc.
# key: X11 keysym name (e.g., "Return", "q", "ampersand", "Left", "Right")
# action: "spawn", "kill", "switch_workspace", "toggle_workspace", "move_to_workspace",
#         "focus_monitor_left", "focus_monitor_right",
#         "move_to_monitor_left", "move_to_monitor_right",
#         "toggle_fullscreen", "focus_next", "focus_prev"
# command: for "spawn" action, use "terminal", "browser", "launcher", or a path
# workspace: for "switch_workspace"/"move_to_workspace" actions, the workspace index (0..count-1)
#            (not used for "toggle_workspace")

# Mouse bindings
# mod: "super", "super+shift", "super+ctrl", etc.
# button: mouse button number (1 = left, 3 = right)
# action: "drag_window", "resize_floating"

[[mousebinds]]
mod = "super"
button = 1
action = "drag_window"

[[mousebinds]]
mod = "super"
button = 3
action = "resize_floating"

# Program launching
[[keybinds]]
mod = "super"
key = "Return"
action = "spawn"
command = "terminal"

[[keybinds]]
mod = "super"
key = "d"
action = "spawn"
command = "launcher"

[[keybinds]]
mod = "super"
key = "q"
action = "kill"

# Workspace switching (AZERTY layout)
[[keybinds]]
mod = "super"
key = "ampersand"
action = "switch_workspace"
workspace = 0

[[keybinds]]
mod = "super"
key = "eacute"
action = "switch_workspace"
workspace = 1

[[keybinds]]
mod = "super"
key = "quotedbl"
action = "switch_workspace"
workspace = 2

[[keybinds]]
mod = "super"
key = "apostrophe"
action = "switch_workspace"
workspace = 3

[[keybinds]]
mod = "super"
key = "parenleft"
action = "switch_workspace"
workspace = 4

[[keybinds]]
mod = "super"
key = "minus"
action = "switch_workspace"
workspace = 5

[[keybinds]]
mod = "super"
key = "egrave"
action = "switch_workspace"
workspace = 6

[[keybinds]]
mod = "super"
key = "underscore"
action = "switch_workspace"
workspace = 7

[[keybinds]]
mod = "super"
key = "ccedilla"
action = "switch_workspace"
workspace = 8

[[keybinds]]
mod = "super"
key = "agrave"
action = "switch_workspace"
workspace = 9

# Move window to workspace (on current monitor)
[[keybinds]]
mod = "super+shift"
key = "ampersand"
action = "move_to_workspace"
workspace = 0

[[keybinds]]
mod = "super+shift"
key = "eacute"
action = "move_to_workspace"
workspace = 1

[[keybinds]]
mod = "super+shift"
key = "quotedbl"
action = "move_to_workspace"
workspace = 2

[[keybinds]]
mod = "super+shift"
key = "apostrophe"
action = "move_to_workspace"
workspace = 3

[[keybinds]]
mod = "super+shift"
key = "parenleft"
action = "move_to_workspace"
workspace = 4

[[keybinds]]
mod = "super+shift"
key = "minus"
action = "move_to_workspace"
workspace = 5

[[keybinds]]
mod = "super+shift"
key = "egrave"
action = "move_to_workspace"
workspace = 6

[[keybinds]]
mod = "super+shift"
key = "underscore"
action = "move_to_workspace"
workspace = 7

[[keybinds]]
mod = "super+shift"
key = "ccedilla"
action = "move_to_workspace"
workspace = 8

[[keybinds]]
mod = "super+shift"
key = "agrave"
action = "move_to_workspace"
workspace = 9

# Monitor focus switching
[[keybinds]]
mod = "super"
key = "Left"
action = "focus_monitor_left"

[[keybinds]]
mod = "super"
key = "Right"
action = "focus_monitor_right"

# Move window to adjacent monitor
[[keybinds]]
mod = "super+shift"
key = "Left"
action = "move_to_monitor_left"

[[keybinds]]
mod = "super+shift"
key = "Right"
action = "move_to_monitor_right"

# Toggle fullscreen
[[keybinds]]
mod = "super"
key = "f"
action = "toggle_fullscreen"

# Focus cycling
[[keybinds]]
mod = "super"
key = "j"
action = "focus_next"

[[keybinds]]
mod = "super"
key = "k"
action = "focus_prev"

# ─────────────────────────────────────────────────────────────────────────────
# Window Rules
# ─────────────────────────────────────────────────────────────────────────────
#
# Rules are evaluated in order - first match wins.
# All specified criteria in a rule are combined with AND logic.
#
# Matching criteria (all optional, all use regex):
#   class       = "Firefox"           # WM_CLASS class name
#   instance    = "Navigator"         # WM_CLASS instance name
#   title       = ".*YouTube.*"       # Window title (_NET_WM_NAME or WM_NAME)
#   type        = "dialog"            # EWMH type: normal, dialog, utility, toolbar, splash, menu
#   transient   = true                # Match only transient windows
#
# Actions:
#   floating    = true/false          # Force floating or tiled mode
#   workspace   = 5                   # Target workspace (by index, 0-based)
#   workspace_name = "dev"            # Target workspace (by name)
#   monitor     = 1                   # Target monitor (by index, 0-based)
#   monitor_name = "HDMI-1"           # Target monitor (by RANDR name)
#   fullscreen  = true                # Start fullscreen
#   above       = true                # Always on top
#   below       = true                # Always below
#   sticky      = true                # Visible on all workspaces
#   skip_taskbar = true               # Exclude from taskbar
#   skip_pager  = true                # Exclude from pager
#   geometry    = { x = 100, y = 100, width = 800, height = 600 }  # Floating only
#   center      = true                # Center on monitor (floating only)
#
# Note: Rules cannot override dock/desktop/popup window behavior (EWMH compliance).

# Example: Force all dialog windows to float
# [[rules]]
# type = "dialog"
# floating = true

# Example: Put Firefox on workspace 2
# [[rules]]
# class = "Firefox"
# workspace = 1

# Example: Float and center a specific app with custom size
# [[rules]]
# class = "pavucontrol"
# floating = true
# center = true
# geometry = { width = 800, height = 600 }

# Example: Put Slack on HDMI-1, workspace "chat"
# [[rules]]
# class = "Slack"
# monitor_name = "HDMI-1"
# workspace_name = "chat"

# Example: Make picture-in-picture windows float and stay above
# [[rules]]
# title = "Picture-in-Picture"
# floating = true
# above = true
# sticky = true
